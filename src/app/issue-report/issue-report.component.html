<h3>Report an issue</h3>
@if (issueForm) {
  <form clrForm [formGroup]="issueForm" (ngSubmit)="addIssue()">
    <clr-input-container>
      <label for="title">Issue</label>
      <input id="title" clrInput formControlName="title" />
      <clr-control-error>Title is required</clr-control-error>
    </clr-input-container>

    @if (suggestions.length) {
      <div class="clr-row">
        <div class="clr-col-lg-2"></div>
        <div class="clr-col-lg-6">
          <clr-stack-view>
            <clr-stack-header>Similar issues</clr-stack-header>
            @for (suggestion of suggestions; track suggestion) {
              <clr-stack-block>
                <clr-stack-label>
                  {{ suggestion.issueNumber }} :
                  {{ suggestion.title }}
                </clr-stack-label>
                <clr-stack-content>
                  <p>{{ suggestion.description }}</p>
                </clr-stack-content>
              </clr-stack-block>
            }
          </clr-stack-view>
        </div>
      </div>
    }

    <clr-textarea-container>
      <label for="description">Description</label>
      <textarea
        id="description"
        clrTextarea
        formControlName="description"
        placeholder="Description"
      ></textarea>
    </clr-textarea-container>
    <clr-radio-container clrInline>
      <label for="priority">Priority</label>
      <clr-radio-wrapper>
        <input
          id="priority-low"
          clrRadio
          type="radio"
          name="priority"
          value="low"
          formControlName="priority"
          />
        <label for="priority-low">Low</label>
      </clr-radio-wrapper>
      <clr-radio-wrapper>
        <input
          id="priority-medium"
          clrRadio
          type="radio"
          name="priority"
          value="medium"
          formControlName="priority"
          />
        <label for="priority-medium">Medium</label>
      </clr-radio-wrapper>
      <clr-radio-wrapper>
        <input
          id="priority-high"
          clrRadio
          type="radio"
          name="priority"
          value="high"
          formControlName="priority"
          />
        <label for="priority-high">High</label>
      </clr-radio-wrapper>
      <clr-control-error>Priority is required</clr-control-error>
    </clr-radio-container>
    <clr-select-container>
      <label for="type">Type</label>
      <select id="type" clrSelect formControlName="type">
        <option value="feature">Feature</option>
        <option value="bug">Bug</option>
        <option value="task">Task</option>
      </select>
      <clr-control-error>Type is required</clr-control-error>
    </clr-select-container>
    <button class="btn btn-primary" type="submit">Create</button>
  </form>
}
